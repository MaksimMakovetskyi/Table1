CREATE TABLE IF NOT EXISTS artists (
	id_artist SERIAL PRIMARY key,
	name VARCHAR(100) NOT NULL unique,
	id_genre INTEGER NOT NULL unique
);
CREATE TABLE IF NOT EXISTS albums (
	id_album SERIAL PRIMARY key,
	name_album VARCHAR(100)  NOT NULL, 
	year_release VARCHAR(100) NOT NULL,
	id_artist INTEGER REFERENCES artists(id_artist) NOT NULL
);
CREATE TABLE IF NOT EXISTS tracks (
	id_track SERIAL PRIMARY key,
	name_track VARCHAR(100)  NOT NULL,
	id_album INTEGER REFERENCES albums(id_album) NOT NULL,
	duration VARCHAR(50) NOT NULL
);
CREATE TABLE IF NOT EXISTS genres (
	id_genre SERIAL PRIMARY key,
	name_genre VARCHAR(100)  NOT NULL UNIQUE
);

ALTER TABLE artists ADD CONSTRAINT id_genre FOREIGN KEY (id_genre) REFERENCES genre(id_genre);

ALTER TABLE artists DROP COLUMN id_genre;
ALTER TABLE albums DROP COLUMN id_artist;

CREATE TABLE IF NOT EXISTS genres_artits (
	id_genre INTEGER REFERENCES genres(id_genre) NOT NULL,
	id_artist INTEGER REFERENCES Artists(id_artist) NOT NULL
);	
CREATE TABLE IF NOT EXISTS albums_artists (
	id_album INTEGER REFERENCES albums(id_album) NOT NULL,
	id_artist INTEGER REFERENCES artists(id_artist) NOT NULL
);	
CREATE TABLE IF NOT EXISTS collections (
	id_collection SERIAL PRIMARY key,
	name_collection VARCHAR(100)  NOT NULL, 
	year_release INTEGER NOT NULL
);
